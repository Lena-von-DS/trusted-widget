<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trusted Shops Widget</title>
  <script src="https://integrations.etrusted.com/applications/widget.js/v2" async defer></script>
</head>
<body>
  <!-- Widget Container -->
  <div id="trustedWidgetContainer">
    <etrusted-widget id="etrustedWidget" data-etrusted-widget-id="wdg-a04e4499-b917-4832-b40f-3816cc719d29"></etrusted-widget>
  </div>

  <!-- Manuelle Initialisierung und explizites Rendering -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const widgetElement = document.getElementById("etrustedWidget");
      if (widgetElement) {
        console.log("Widget gefunden. Starte Render-Vorgang...");
        
        // Überprüfen, ob das Skript geladen ist
        if (window.customElements && window.customElements.get('etrusted-widget')) {
          console.log("Widget-Komponente verfügbar. Starte Render-Vorgang...");
          
          // Explizite Initialisierung
          setTimeout(() => {
            widgetElement.setAttribute("data-render", "true");
            console.log("Widget-Render-Vorgang gestartet.");
          }, 500);
        } else {
          console.warn("Widget-Komponente nicht verfügbar.");
        }
      } else {
        console.warn("Widget nicht gefunden.");
      }
    });
  </script>
</body>
</html>
